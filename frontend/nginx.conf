events {}
http {
  server {
    listen 80;

    # serve the static page
    location / {
      root /usr/share/nginx/html;
      index index.html;
    }

    # proxy API calls to FastAPI (service name: api, port 8000)
    location /orders    { proxy_pass http://api:8000/orders; }
    location /health    { proxy_pass http://api:8000/health; }
    location /health/db { proxy_pass http://api:8000/health/db; }
  }
}
